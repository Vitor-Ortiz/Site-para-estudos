<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DevStudy | Mainframe</title>
    <link rel="stylesheet" href="../assets/css/base.css">
    <link rel="stylesheet" href="../assets/css/header.css">
    <link rel="stylesheet" href="../assets/css/components.css">
    <link rel="stylesheet" href="../assets/css/menu.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <header></header>

    <div class="container">
        <section class="welcome-section">
            <div class="user-greeting">
                <h1 id="home-greeting">Carregando...</h1>
                <p>Sistemas online. Escolha o seu destino.</p>
            </div>
            <div class="quick-stats">
                <div class="stat-pill"><i class="fas fa-bolt"></i> <span id="home-level">--</span></div>
                <div class="stat-pill xp"><i class="fas fa-star"></i> <span id="home-xp">-- XP</span></div>
            </div>
        </section>

        <section class="menu-grid">
            
            <a href="challenges.html" class="menu-card matrix-card">
                <div class="card-bg-icon"><i class="fas fa-code"></i></div>
                <div class="card-content">
                    <i class="fas fa-terminal card-icon"></i>
                    <h3>Matrix</h3>
                    <p>Desafios de código e quizzes.</p>
                </div>
                <div class="card-action">ACESSAR <i class="fas fa-arrow-right"></i></div>
            </a>

            <a href="game.html" class="menu-card game-card">
                <div class="card-bg-icon"><i class="fas fa-gamepad"></i></div>
                <div class="card-content">
                    <i class="fas fa-keyboard card-icon"></i>
                    <h3>Arcade</h3>
                    <p>Jogos Cyber Typer e Termo.</p>
                </div>
                <div class="card-action">JOGAR <i class="fas fa-arrow-right"></i></div>
            </a>

            <a href="docs.html" class="menu-card docs-card">
                <div class="card-bg-icon"><i class="fas fa-book"></i></div>
                <div class="card-content">
                    <i class="fas fa-layer-group card-icon"></i>
                    <h3>Biblioteca</h3>
                    <p>Atlas de linguagens e laboratórios.</p>
                </div>
                <div class="card-action">ESTUDAR <i class="fas fa-arrow-right"></i></div>
            </a>

            <a href="mathematics.html" class="menu-card math-card">
                <div class="card-bg-icon"><i class="fas fa-calculator"></i></div>
                <div class="card-content">
                    <i class="fas fa-square-root-alt card-icon"></i>
                    <h3>Matemática</h3>
                    <p>Lógica e cálculos para devs.</p>
                </div>
                <div class="card-action" >CALCULAR <i class="fas fa-arrow-right"></i></div>
            </a>

            <a href="pentest.html" class="menu-card pentest-card">
                <div class="card-bg-icon"><i class="fas fa-user-secret"></i></div>
                <div class="card-content">
                    <i class="fas fa-mask card-icon"></i>
                    <h3>Pentest</h3>
                    <p>Hacking ético e segurança.</p>
                </div>
                <div class="card-action">HACKEAR <i class="fas fa-arrow-right"></i></div>
            </a>

            <a href="shop.html" class="menu-card shop-card">
                <div class="card-bg-icon"><i class="fas fa-shopping-cart"></i></div>
                <div class="card-content">
                    <i class="fas fa-store card-icon"></i>
                    <h3>Loja</h3>
                    <p>Gaste XP em itens exclusivos.</p>
                </div>
                <div class="card-action">COMPRAR <i class="fas fa-arrow-right"></i></div>
            </a>
            
            <a href="admin.html" class="menu-card admin-card-menu" id="home-admin-card" style="display:none">
                <div class="card-bg-icon"><i class="fas fa-shield-alt"></i></div>
                <div class="card-content">
                    <i class="fas fa-user-secret card-icon"></i>
                    <h3>Admin</h3>
                    <p>Painel de controle.</p>
                </div>
                <div class="card-action">GERIR <i class="fas fa-arrow-right"></i></div>
            </a>

        </section>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    
    <script src="../game-data.js"></script>
    <script src="../assets/js/header.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const fillData = () => {
                const user = window.currentUser;
                const xp = window.globalXP || 0;
                const level = window.globalLevel || 1;
                
                if(document.getElementById('home-greeting')) {
                    const nome = user ? (user.displayName || user.email.split('@')[0]) : "Visitante";
                    document.getElementById('home-greeting').innerText = `Bem-vindo, ${nome}.`;
                }
                document.getElementById('home-level').innerText = `Lvl ${level}`;
                document.getElementById('home-xp').innerText = `${xp} XP`;

                if(window.isAdminUser) {
                    document.getElementById('home-admin-card').style.display = 'flex';
                }
            };
            window.addEventListener('gameDataLoaded', fillData);
            setTimeout(fillData, 1500);
        });
    </script>
</body>
</html>